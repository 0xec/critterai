<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>CritterAI Navigation Library</title>
</head>

<body>

<p>The CritterAI Navigation library provides multi-threaded pathfinding functionality.</p>
<p><a href="http://www.critterai.org/" target="_parent">Project Home<br />
</a><a href="http://code.google.com/p/critterai/" target="_parent">Project Source</a><br />
<a href="http://www.critterai.org/cailic" target="_parent">License</a></p>
<h2>Primary Features</h2>
<ul>
    <li>The navigator can be run on its own thread.</li>
    <li>The navigator can be throttled so that it will only process searches for a specified number of nanoseconds per frame.</li>
    <li>Paths can be cached so they can be re-used by multiple clients and repaired if needed.</li>
    <li>Paths are constructed as corridors, rather than waypoints. As long as the path's client remains within the corridor, the path object can provide it with a target toward the goal.</li>
    <li>If a client move's outside of the path corridor, it can ask for the path to be repaired. Path repair is usually cheaper than requesting a full new path search.</li>
    <li>Path string-pulling is performed on demand and will auto-adjust based on the client's current position.</li>
</ul>
<h2>Primary Use Case</h2>
<h3>Navigator Thread</h3>
<ol>
    <li>Construct a {@linkplain org.critterai.nav.ThreadedNavigator threaded navigator} using the {@link org.critterai.nav.NavUtil} class.</li>
    <li>Start the threaded navigator on its own thread.</li>
    <li>Provide {@link org.critterai.nav.MasterNavigator.Navigator Navigator} references to clients via the {@link org.critterai.nav.ThreadedNavigator#navigator()} operation.</li>
</ol>
<h3>Client Objects</h3>
<h4>General Requests</h4>
<ol>
    <li>Provide a  {@link org.critterai.nav.MasterNavigator.Navigator Navigator} reference to the client  via the {@link org.critterai.nav.ThreadedNavigator#navigator()} operation.</li>
    <li>Client makes a request of the Navigator and receives a {@linkplain org.critterai.nav.MasterNavRequest.NavRequest request} object.</li>
    <li>Client monitors its request object for completion via the {@link org.critterai.nav.MasterNavRequest.NavRequest#isFinished() isFinished()} operation.</li>
    <li>When the request is finished, check its state.</li>
    <li>If the requst failed,  figure out what to do next.</li>
    <li>If the request completed successfully, retrieve its data.</li>
</ol>
<p>The client should  monitor its Navigator object to see if it is disposed. If the Navigator is disposed, it will no longer accept requests and all data it provided to the client is no longer valid.</p>
<h4>Using Paths</h4>
<p>When a path request completes successully, the {@linkplain org.critterai.nav.MasterNavRequest.NavRequest request} object provides a {@link org.critterai.nav.MasterPath.Path Path} object. The Path object is used as follows:</p>
<ol>
    <li>Client requests a target via the {@link org.critterai.nav.MasterPath.Path#getTarget(float, float, float, Vector3) getTarget()} operation. The operation takes the client's current position and provides a target position within the path corridor that has LOS from the client's position.</li>
    <li>Client uses it locomotion method to move toward the target.</li>
    <li>Every frame, or as needed, the client asks for a new target position. This repeats until the path goal is reached.</li>
    <li>If the getTarget() operation returns FALSE, then the client position is no longer valid for the path. (The client may have wandered outside of the path corridor.) Try to repair the path via a {@linkplain org.critterai.nav.MasterNavigator.Navigator#repairPath(float, float, float, org.critterai.nav.MasterPath.Path) repair path} request.</li>
    <li>Client uses the repaired path to continue pathfinding.</li>
</ol>
<p>&nbsp;</p>
</body>
</html>
